{"version":3,"sources":["template.js"],"names":["PolyfilledHTMLTemplateElement","QSA","node","selector","childNodes","length","nodeType","Node","DOCUMENT_NODE","docQuerySelectorAll","call","DOCUMENT_FRAGMENT_NODE","fragQuerySelectorAll","elementQuerySelectorAll","needsTemplate","HTMLTemplateElement","brokenDocFragment","document","createDocumentFragment","cloneNode","DocumentFragment","needsDocFrag","test","navigator","userAgent","insertBefore","newNode","refNode","child","firstChild","origInsertBefore","origCloneNode","prototype","Node.prototype.cloneNode","deep","newDom","__proto__","querySelectorAll","HTMLElement","querySelector","Object","defineProperties","get","configurable","origAppendChild","appendChild","Node.prototype.appendChild","origRemoveChild","removeChild","origReplaceChild","replaceChild","Node.prototype.replaceChild","newChild","oldChild","Document","Document.prototype.createDocumentFragment","frag","createElement","origImportNode","importNode","Document.prototype.importNode","impNode","capturedCloneNode","capturedCreateElement","capturedImportNode","capturedRemoveChild","capturedAppendChild","capturedReplaceChild","capturedParseFromString","DOMParser","parseFromString","capturedHTMLElementInnerHTML","getOwnPropertyDescriptor","window","innerHTML","set","text","capturedChildNodes","Element","needsCloning","t","t2","content","clone","contentDoc","implementation","createHTMLDocument","canDecorate","templateStyle","textContent","head","firstElementChild","create","canProtoPatch","hasOwnProperty","decorate","PolyfilledHTMLTemplateElement.decorate","template","namespaceURI","documentElement","template.cloneNode","_cloneNode","defineInnerHTML","defineOuterHTML","err","bootstrap","topLevelWrappingMap","obj","defineProperty","getInnerHTML","wrap","exec","toLowerCase","i","body","j","lastChild","parentNode","docFrag","ownerDocument","Error","PolyfilledHTMLTemplateElement.bootstrap","doc","templates","TEMPLATE_TAG","l","addEventListener","Document.prototype.createElement","el","apply","arguments","localName","DOMParser.prototype.parseFromString","enumerable","escapeAttrRegExp","escapeDataRegExp","escapeReplace","c","makeSet","arr","voidElements","plaintextParents","callback","s","c$","ELEMENT_NODE","tagName","attrs","attributes","attr","name","value","replace","TEXT_NODE","data","COMMENT_NODE","console","error","PolyfilledHTMLTemplateElement._cloneNode","fixClonedDom","source","s$","t$","dom","element","scripts","scriptSelector","ns","ai","a","setAttribute"],"mappings":"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","file":"template.min.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n// minimal template polyfill\n(function () {\n  'use strict';\n\n  var needsTemplate = typeof HTMLTemplateElement === 'undefined';\n  var brokenDocFragment = !(\n    document.createDocumentFragment().cloneNode() instanceof DocumentFragment\n  );\n  var needsDocFrag = false;\n\n  // NOTE: Replace DocumentFragment to work around IE11 bug that\n  // causes children of a document fragment modified while\n  // there is a mutation observer to not have a parentNode, or\n  // have a broken parentNode (!?!)\n  if (/Trident/.test(navigator.userAgent)) {\n    (function () {\n      needsDocFrag = true;\n\n      var origCloneNode = Node.prototype.cloneNode;\n      Node.prototype.cloneNode = function cloneNode(deep) {\n        var newDom = origCloneNode.call(this, deep);\n        if (this instanceof DocumentFragment) {\n          newDom.__proto__ = DocumentFragment.prototype;\n        }\n        return newDom;\n      };\n\n      // IE's DocumentFragment querySelector code doesn't work when\n      // called on an element instance\n      DocumentFragment.prototype.querySelectorAll =\n        HTMLElement.prototype.querySelectorAll;\n      DocumentFragment.prototype.querySelector =\n        HTMLElement.prototype.querySelector;\n\n      Object.defineProperties(DocumentFragment.prototype, {\n        'nodeType': {\n          get: function () {\n            return Node.DOCUMENT_FRAGMENT_NODE;\n          },\n          configurable: true,\n        },\n\n        'localName': {\n          get: function () {\n            return undefined;\n          },\n          configurable: true,\n        },\n\n        'nodeName': {\n          get: function () {\n            return '#document-fragment';\n          },\n          configurable: true,\n        },\n      });\n\n      var origInsertBefore = Node.prototype.insertBefore;\n      function insertBefore(newNode, refNode) {\n        if (newNode instanceof DocumentFragment) {\n          var child;\n          while ((child = newNode.firstChild)) {\n            origInsertBefore.call(this, child, refNode);\n          }\n        } else {\n          origInsertBefore.call(this, newNode, refNode);\n        }\n        return newNode;\n      }\n      Node.prototype.insertBefore = insertBefore;\n\n      var origAppendChild = Node.prototype.appendChild;\n      Node.prototype.appendChild = function appendChild(child) {\n        if (child instanceof DocumentFragment) {\n          insertBefore.call(this, child, null);\n        } else {\n          origAppendChild.call(this, child);\n        }\n        return child;\n      };\n\n      var origRemoveChild = Node.prototype.removeChild;\n      var origReplaceChild = Node.prototype.replaceChild;\n      Node.prototype.replaceChild = function replaceChild(newChild, oldChild) {\n        if (newChild instanceof DocumentFragment) {\n          insertBefore.call(this, newChild, oldChild);\n          origRemoveChild.call(this, oldChild);\n        } else {\n          origReplaceChild.call(this, newChild, oldChild);\n        }\n        return oldChild;\n      };\n\n      Document.prototype.createDocumentFragment = function createDocumentFragment() {\n        var frag = this.createElement('df');\n        frag.__proto__ = DocumentFragment.prototype;\n        return frag;\n      };\n\n      var origImportNode = Document.prototype.importNode;\n      Document.prototype.importNode = function importNode(impNode, deep) {\n        deep = deep || false;\n        var newNode = origImportNode.call(this, impNode, deep);\n        if (impNode instanceof DocumentFragment) {\n          newNode.__proto__ = DocumentFragment.prototype;\n        }\n        return newNode;\n      };\n    })();\n  }\n\n  // NOTE: we rely on this cloneNode not causing element upgrade.\n  // This means this polyfill must load before the CE polyfill and\n  // this would need to be re-worked if a browser supports native CE\n  // but not <template>.\n  var capturedCloneNode = Node.prototype.cloneNode;\n  var capturedCreateElement = Document.prototype.createElement;\n  var capturedImportNode = Document.prototype.importNode;\n  var capturedRemoveChild = Node.prototype.removeChild;\n  var capturedAppendChild = Node.prototype.appendChild;\n  var capturedReplaceChild = Node.prototype.replaceChild;\n  var capturedParseFromString = DOMParser.prototype.parseFromString;\n  var capturedHTMLElementInnerHTML = Object.getOwnPropertyDescriptor(\n    window.HTMLElement.prototype,\n    'innerHTML'\n  ) || {\n    /**\n     * @this {!HTMLElement}\n     * @return {string}\n     */\n    get: function () {\n      return this.innerHTML;\n    },\n    /**\n     * @this {!HTMLElement}\n     * @param {string}\n     */\n    set: function (text) {\n      this.innerHTML = text;\n    },\n  };\n  var capturedChildNodes = Object.getOwnPropertyDescriptor(\n    window.Node.prototype,\n    'childNodes'\n  ) || {\n    /**\n     * @this {!Node}\n     * @return {!NodeList}\n     */\n    get: function () {\n      return this.childNodes;\n    },\n  };\n\n  var elementQuerySelectorAll = Element.prototype.querySelectorAll;\n  var docQuerySelectorAll = Document.prototype.querySelectorAll;\n  var fragQuerySelectorAll = DocumentFragment.prototype.querySelectorAll;\n\n  var scriptSelector =\n    'script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]';\n\n  function QSA(node, selector) {\n    // IE 11 throws a SyntaxError with `scriptSelector` if the node has no children due to the `:not([type])` syntax\n    if (!node.childNodes.length) {\n      return [];\n    }\n    switch (node.nodeType) {\n      case Node.DOCUMENT_NODE:\n        return docQuerySelectorAll.call(node, selector);\n      case Node.DOCUMENT_FRAGMENT_NODE:\n        return fragQuerySelectorAll.call(node, selector);\n      default:\n        return elementQuerySelectorAll.call(node, selector);\n    }\n  }\n\n  // returns true if nested templates cannot be cloned (they cannot be on\n  // some impl's like Safari 8 and Edge)\n  // OR if cloning a document fragment does not result in a document fragment\n  var needsCloning = (function () {\n    if (!needsTemplate) {\n      var t = document.createElement('template');\n      var t2 = document.createElement('template');\n      t2.content.appendChild(document.createElement('div'));\n      t.content.appendChild(t2);\n      var clone = t.cloneNode(true);\n      return (\n        clone.content.childNodes.length === 0 ||\n        clone.content.firstChild.content.childNodes.length === 0 ||\n        brokenDocFragment\n      );\n    }\n  })();\n\n  var TEMPLATE_TAG = 'template';\n  var PolyfilledHTMLTemplateElement = function () {};\n\n  if (needsTemplate) {\n    var contentDoc = document.implementation.createHTMLDocument('template');\n    var canDecorate = true;\n\n    var templateStyle = document.createElement('style');\n    templateStyle.textContent = TEMPLATE_TAG + '{display:none;}';\n\n    var head = document.head;\n    head.insertBefore(templateStyle, head.firstElementChild);\n\n    /**\n      Provides a minimal shim for the <template> element.\n    */\n    PolyfilledHTMLTemplateElement.prototype = Object.create(\n      HTMLElement.prototype\n    );\n\n    // if elements do not have `innerHTML` on instances, then\n    // templates can be patched by swizzling their prototypes.\n    var canProtoPatch = !document\n      .createElement('div')\n      .hasOwnProperty('innerHTML');\n\n    /**\n      The `decorate` method moves element children to the template's `content`.\n      NOTE: there is no support for dynamically adding elements to templates.\n    */\n    PolyfilledHTMLTemplateElement.decorate = function (template) {\n      // if the template is decorated or not in HTML namespace, return fast\n      if (\n        template.content ||\n        template.namespaceURI !== document.documentElement.namespaceURI\n      ) {\n        return;\n      }\n      template.content = contentDoc.createDocumentFragment();\n      var child;\n      while ((child = template.firstChild)) {\n        capturedAppendChild.call(template.content, child);\n      }\n      // NOTE: prefer prototype patching for performance and\n      // because on some browsers (IE11), re-defining `innerHTML`\n      // can result in intermittent errors.\n      if (canProtoPatch) {\n        template.__proto__ = PolyfilledHTMLTemplateElement.prototype;\n      } else {\n        template.cloneNode = function (deep) {\n          return PolyfilledHTMLTemplateElement._cloneNode(this, deep);\n        };\n        // add innerHTML to template, if possible\n        // Note: this throws on Safari 7\n        if (canDecorate) {\n          try {\n            defineInnerHTML(template);\n            defineOuterHTML(template);\n          } catch (err) {\n            canDecorate = false;\n          }\n        }\n      }\n      // bootstrap recursively\n      PolyfilledHTMLTemplateElement.bootstrap(template.content);\n    };\n\n    // Taken from https://github.com/jquery/jquery/blob/73d7e6259c63ac45f42c6593da8c2796c6ce9281/src/manipulation/wrapMap.js\n    var topLevelWrappingMap = {\n      'option': ['select'],\n      'thead': ['table'],\n      'col': ['colgroup', 'table'],\n      'tr': ['tbody', 'table'],\n      'th': ['tr', 'tbody', 'table'],\n      'td': ['tr', 'tbody', 'table'],\n    };\n\n    var getTagName = function (text) {\n      // Taken from https://github.com/jquery/jquery/blob/73d7e6259c63ac45f42c6593da8c2796c6ce9281/src/manipulation/var/rtagName.js\n      return (/<([a-z][^/\\0>\\x20\\t\\r\\n\\f]+)/i.exec(text) || [\n        '',\n        '',\n      ])[1].toLowerCase();\n    };\n\n    var defineInnerHTML = function defineInnerHTML(obj) {\n      Object.defineProperty(obj, 'innerHTML', {\n        get: function () {\n          return getInnerHTML(this);\n        },\n        set: function (text) {\n          // For IE11, wrap the text in the correct (table) context\n          var wrap = topLevelWrappingMap[getTagName(text)];\n          if (wrap) {\n            for (var i = 0; i < wrap.length; i++) {\n              text = '<' + wrap[i] + '>' + text + '</' + wrap[i] + '>';\n            }\n          }\n          contentDoc.body.innerHTML = text;\n          PolyfilledHTMLTemplateElement.bootstrap(contentDoc);\n          while (this.content.firstChild) {\n            capturedRemoveChild.call(this.content, this.content.firstChild);\n          }\n          var body = contentDoc.body;\n          // If we had wrapped, get back to the original node\n          if (wrap) {\n            for (var j = 0; j < wrap.length; j++) {\n              body = body.lastChild;\n            }\n          }\n          while (body.firstChild) {\n            capturedAppendChild.call(this.content, body.firstChild);\n          }\n        },\n        configurable: true,\n      });\n    };\n\n    var defineOuterHTML = function defineOuterHTML(obj) {\n      Object.defineProperty(obj, 'outerHTML', {\n        get: function () {\n          return `<${TEMPLATE_TAG}>${this.innerHTML}</${TEMPLATE_TAG}>`;\n        },\n        set: function (innerHTML) {\n          if (this.parentNode) {\n            contentDoc.body.innerHTML = innerHTML;\n            var docFrag = this.ownerDocument.createDocumentFragment();\n            while (contentDoc.body.firstChild) {\n              capturedAppendChild.call(docFrag, contentDoc.body.firstChild);\n            }\n            capturedReplaceChild.call(this.parentNode, docFrag, this);\n          } else {\n            throw new Error(\n              \"Failed to set the 'outerHTML' property on 'Element': This element has no parent node.\"\n            );\n          }\n        },\n        configurable: true,\n      });\n    };\n\n    defineInnerHTML(PolyfilledHTMLTemplateElement.prototype);\n    defineOuterHTML(PolyfilledHTMLTemplateElement.prototype);\n\n    /**\n      The `bootstrap` method is called automatically and \"fixes\" all\n      <template> elements in the document referenced by the `doc` argument.\n    */\n    PolyfilledHTMLTemplateElement.bootstrap = function bootstrap(doc) {\n      var templates = QSA(doc, TEMPLATE_TAG);\n      for (\n        var i = 0, l = templates.length, t;\n        i < l && (t = templates[i]);\n        i++\n      ) {\n        PolyfilledHTMLTemplateElement.decorate(t);\n      }\n    };\n\n    // auto-bootstrapping for main document\n    document.addEventListener('DOMContentLoaded', function () {\n      PolyfilledHTMLTemplateElement.bootstrap(document);\n    });\n\n    // Patch document.createElement to ensure newly created templates have content\n    Document.prototype.createElement = function createElement() {\n      var el = capturedCreateElement.apply(this, arguments);\n      if (el.localName === 'template') {\n        PolyfilledHTMLTemplateElement.decorate(el);\n      }\n      return el;\n    };\n\n    DOMParser.prototype.parseFromString = function () {\n      var el = capturedParseFromString.apply(this, arguments);\n      PolyfilledHTMLTemplateElement.bootstrap(el);\n      return el;\n    };\n\n    Object.defineProperty(HTMLElement.prototype, 'innerHTML', {\n      get: function () {\n        return getInnerHTML(this);\n      },\n      set: function (text) {\n        capturedHTMLElementInnerHTML.set.call(this, text);\n        PolyfilledHTMLTemplateElement.bootstrap(this);\n      },\n      configurable: true,\n      enumerable: true,\n    });\n\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\n    var escapeAttrRegExp = /[&\\u00A0\"]/g;\n    var escapeDataRegExp = /[&\\u00A0<>]/g;\n\n    var escapeReplace = function (c) {\n      switch (c) {\n        case '&':\n          return '&amp;';\n        case '<':\n          return '&lt;';\n        case '>':\n          return '&gt;';\n        case '\"':\n          return '&quot;';\n        case '\\u00A0':\n          return '&nbsp;';\n      }\n    };\n\n    var escapeAttr = function (s) {\n      return s.replace(escapeAttrRegExp, escapeReplace);\n    };\n\n    var escapeData = function (s) {\n      return s.replace(escapeDataRegExp, escapeReplace);\n    };\n\n    var makeSet = function (arr) {\n      var set = {};\n      for (var i = 0; i < arr.length; i++) {\n        set[arr[i]] = true;\n      }\n      return set;\n    };\n\n    // http://www.whatwg.org/specs/web-apps/current-work/#void-elements\n    var voidElements = makeSet([\n      'area',\n      'base',\n      'br',\n      'col',\n      'command',\n      'embed',\n      'hr',\n      'img',\n      'input',\n      'keygen',\n      'link',\n      'meta',\n      'param',\n      'source',\n      'track',\n      'wbr',\n    ]);\n\n    var plaintextParents = makeSet([\n      'style',\n      'script',\n      'xmp',\n      'iframe',\n      'noembed',\n      'noframes',\n      'plaintext',\n      'noscript',\n    ]);\n\n    /**\n     * @param {Node} node\n     * @param {Node} parentNode\n     * @param {Function=} callback\n     */\n    var getOuterHTML = function (node, parentNode, callback) {\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE: {\n          var tagName = node.localName;\n          var s = '<' + tagName;\n          var attrs = node.attributes;\n          for (var i = 0, attr; (attr = attrs[i]); i++) {\n            s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n          }\n          s += '>';\n          if (voidElements[tagName]) {\n            return s;\n          }\n          return s + getInnerHTML(node, callback) + '</' + tagName + '>';\n        }\n        case Node.TEXT_NODE: {\n          var data = /** @type {Text} */ (node).data;\n          if (parentNode && plaintextParents[parentNode.localName]) {\n            return data;\n          }\n          return escapeData(data);\n        }\n        case Node.COMMENT_NODE: {\n          return '<!--' + /** @type {Comment} */ (node).data + '-->';\n        }\n        default: {\n          window.console.error(node);\n          throw new Error('not implemented');\n        }\n      }\n    };\n\n    /**\n     * @param {Node} node\n     * @param {Function=} callback\n     */\n    var getInnerHTML = function (node, callback) {\n      if (node.localName === 'template') {\n        node = /** @type {HTMLTemplateElement} */ (node).content;\n      }\n      var s = '';\n      var c$ = callback ? callback(node) : capturedChildNodes.get.call(node);\n      for (var i = 0, l = c$.length, child; i < l && (child = c$[i]); i++) {\n        s += getOuterHTML(child, node, callback);\n      }\n      return s;\n    };\n  }\n\n  // make cloning/importing work!\n  if (needsTemplate || needsCloning) {\n    PolyfilledHTMLTemplateElement._cloneNode = function _cloneNode(\n      template,\n      deep\n    ) {\n      var clone = capturedCloneNode.call(template, false);\n      // NOTE: decorate doesn't auto-fix children because they are already\n      // decorated so they need special clone fixup.\n      if (this.decorate) {\n        this.decorate(clone);\n      }\n      if (deep) {\n        // NOTE: use native clone node to make sure CE's wrapped\n        // cloneNode does not cause elements to upgrade.\n        capturedAppendChild.call(\n          clone.content,\n          capturedCloneNode.call(template.content, true)\n        );\n        // now ensure nested templates are cloned correctly.\n        fixClonedDom(clone.content, template.content);\n      }\n      return clone;\n    };\n\n    // Given a source and cloned subtree, find <template>'s in the cloned\n    // subtree and replace them with cloned <template>'s from source.\n    // We must do this because only the source templates have proper .content.\n    var fixClonedDom = function fixClonedDom(clone, source) {\n      // do nothing if cloned node is not an element\n      if (!source.querySelectorAll) {\n        return;\n      }\n      // these two lists should be coincident\n      var s$ = QSA(source, TEMPLATE_TAG);\n      if (s$.length === 0) {\n        return;\n      }\n      var t$ = QSA(clone, TEMPLATE_TAG);\n      for (var i = 0, l = t$.length, t, s; i < l; i++) {\n        s = s$[i];\n        t = t$[i];\n        if (\n          PolyfilledHTMLTemplateElement &&\n          PolyfilledHTMLTemplateElement.decorate\n        ) {\n          PolyfilledHTMLTemplateElement.decorate(s);\n        }\n        capturedReplaceChild.call(t.parentNode, cloneNode.call(s, true), t);\n      }\n    };\n\n    // make sure scripts inside of a cloned template are executable\n    var fixClonedScripts = function fixClonedScripts(fragment) {\n      var scripts = QSA(fragment, scriptSelector);\n      for (var ns, s, i = 0; i < scripts.length; i++) {\n        s = scripts[i];\n        ns = capturedCreateElement.call(document, 'script');\n        ns.textContent = s.textContent;\n        var attrs = s.attributes;\n        for (var ai = 0, a; ai < attrs.length; ai++) {\n          a = attrs[ai];\n          ns.setAttribute(a.name, a.value);\n        }\n        capturedReplaceChild.call(s.parentNode, ns, s);\n      }\n    };\n\n    // override all cloning to fix the cloned subtree to contain properly\n    // cloned templates.\n    var cloneNode = (Node.prototype.cloneNode = function cloneNode(deep) {\n      var dom;\n      // workaround for Edge bug cloning documentFragments\n      // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8619646/\n      if (\n        !needsDocFrag &&\n        brokenDocFragment &&\n        this instanceof DocumentFragment\n      ) {\n        if (!deep) {\n          return this.ownerDocument.createDocumentFragment();\n        } else {\n          dom = importNode.call(this.ownerDocument, this, true);\n        }\n      } else if (\n        this.nodeType === Node.ELEMENT_NODE &&\n        this.localName === TEMPLATE_TAG &&\n        this.namespaceURI == document.documentElement.namespaceURI\n      ) {\n        dom = PolyfilledHTMLTemplateElement._cloneNode(this, deep);\n      } else {\n        dom = capturedCloneNode.call(this, deep);\n      }\n      // template.content is cloned iff `deep`.\n      if (deep) {\n        fixClonedDom(dom, this);\n      }\n      return dom;\n    });\n\n    // NOTE: we are cloning instead of importing <template>'s.\n    // However, the ownerDocument of the cloned template will be correct!\n    // This is because the native import node creates the right document owned\n    // subtree and `fixClonedDom` inserts cloned templates into this subtree,\n    // thus updating the owner doc.\n    var importNode = (Document.prototype.importNode = function importNode(\n      element,\n      deep\n    ) {\n      deep = deep || false;\n      if (element.localName === TEMPLATE_TAG) {\n        return PolyfilledHTMLTemplateElement._cloneNode(element, deep);\n      } else {\n        var dom = capturedImportNode.call(this, element, deep);\n        if (deep) {\n          fixClonedDom(dom, element);\n          fixClonedScripts(dom);\n        }\n        return dom;\n      }\n    });\n  }\n\n  if (needsTemplate) {\n    window.HTMLTemplateElement = PolyfilledHTMLTemplateElement;\n  }\n})();\n"]}